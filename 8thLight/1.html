<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Describe code you&#39;ve written that you&#39;re proud of and explain why. | Apprenticeship Application</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&amp;display=swap">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    
    <link rel="preload" href="/Apprenticeship-Application/assets/css/0.styles.80d1d371.css" as="style"><link rel="preload" href="/Apprenticeship-Application/assets/js/app.78161b69.js" as="script"><link rel="preload" href="/Apprenticeship-Application/assets/js/2.d9d045a4.js" as="script"><link rel="preload" href="/Apprenticeship-Application/assets/js/5.3d3ef24d.js" as="script"><link rel="prefetch" href="/Apprenticeship-Application/assets/js/10.91bd3ea7.js"><link rel="prefetch" href="/Apprenticeship-Application/assets/js/11.a74ab32f.js"><link rel="prefetch" href="/Apprenticeship-Application/assets/js/12.bb11b90f.js"><link rel="prefetch" href="/Apprenticeship-Application/assets/js/3.c0ee410d.js"><link rel="prefetch" href="/Apprenticeship-Application/assets/js/4.789a4f89.js"><link rel="prefetch" href="/Apprenticeship-Application/assets/js/6.795aa079.js"><link rel="prefetch" href="/Apprenticeship-Application/assets/js/7.0c4e52f3.js"><link rel="prefetch" href="/Apprenticeship-Application/assets/js/8.aabedf16.js"><link rel="prefetch" href="/Apprenticeship-Application/assets/js/9.1021e807.js">
    <link rel="stylesheet" href="/Apprenticeship-Application/assets/css/0.styles.80d1d371.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-navbar"><!----> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>8th Light
Apprenticeship Application</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Apprenticeship-Application/8thLight/1.html" class="active sidebar-link">Describe code you've written that you're proud of and explain why.</a></li><li><a href="/Apprenticeship-Application/8thLight/2.html" class="sidebar-link">Why are you pursuing a career in software development?</a></li><li><a href="/Apprenticeship-Application/8thLight/3.html" class="sidebar-link">Tell us about something you actively learned in the past month.</a></li><li><a href="/Apprenticeship-Application/8thLight/4.html" class="sidebar-link">8th Light is a software consultancy. Share your thoughts on what a software consultancy provides to clients.</a></li><li><a href="/Apprenticeship-Application/8thLight/5.html" class="sidebar-link">Tell us why you would be a successful software consultant at 8th Light?</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><section id="section--describe-code-you-ve-written-that-you-re-proud-of-and-explain-why"><h1 id="describe-code-you-ve-written-that-you-re-proud-of-and-explain-why"><a href="#describe-code-you-ve-written-that-you-re-proud-of-and-explain-why" class="header-anchor">#</a> Describe code you've written that you're proud of and explain why.</h1> <p>Part of the <a href="https://github.com/FicoPrieto/AudioVisual-Framework-Demo" target="_blank" rel="noopener noreferrer">project</a> I linked to is a TypeScript MIDI library that wraps the <a href="https://www.w3.org/TR/webmidi" target="_blank" rel="noopener noreferrer">WebMidi</a> API.</p> <p>It simplifies developer usage by providing functions &amp; properties via terminology that is familiar to MIDI users &amp; musicians; which removes the need to perform manual conversions of MIDI values to access information like note name, velocity, channel, etc. The library is structured and typed to make usage as intuitive as possible via IntelliSense.</p> <p>It also abstracts away most of the required boilerplate, allowing developers to focus on the unique implementation details.</p> <p><br> <br>
Here is an example of a <code>NoteOn</code>/<code>NoteOff</code> listener, written with my library. It allows users to interact with a web app via a MIDI controller like this:</p> <p><img src="https://i.imgur.com/YwYjQunm.png" alt="MPK Mini MKII"></p> <div class="language-Typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> devices  <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;MPKmini2&quot;</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> channels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>

<span class="token keyword">await</span> <span class="token constant">MIDI</span><span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> noteOn_CallbackID <span class="token operator">=</span> <span class="token constant">MIDI</span><span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token function">NoteOn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  filter<span class="token operator">:</span>   <span class="token punctuation">{</span>devices<span class="token punctuation">,</span> channels<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>name<span class="token punctuation">,</span> velocityDecimal<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// plays the note via Tone.js, updates on-screen piano that mirrors the MIDI controller</span>
    synth<span class="token punctuation">.</span><span class="token function">triggerAttack</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> velocityDecimal<span class="token punctuation">)</span>
    <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#Piano &gt; .key[data-note=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>note<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span>
    <span class="token function">update_KeyColor</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> KeyState<span class="token punctuation">.</span>Pressed<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> noteOff_CallbackID <span class="token operator">=</span> <span class="token constant">MIDI</span><span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token function">NoteOff</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  filter<span class="token operator">:</span>   <span class="token punctuation">{</span>devices<span class="token punctuation">,</span> channels<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// stops the note via Tone.js, updates on-screen piano that mirrors the MIDI controller</span>
    synth<span class="token punctuation">.</span><span class="token function">triggerRelease</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#Piano &gt; .key[data-note=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span>
    <span class="token function">update_KeyColor</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> KeyState<span class="token punctuation">.</span>Unpressed<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// MIDI.Event.NoteOn .unbind(noteOn_CallbackID )</span>
<span class="token comment">// MIDI.Event.NoteOff.unbind(noteOff_CallbackID)</span>

<span class="token comment">// type callback = ((MIDI.Event.NoteOn|MIDI.Event.NoteOff){</span>
<span class="token comment">//   cents:           number,</span>
<span class="token comment">//   hertz:           number,</span>
<span class="token comment">//   name:            NoteName,   (&quot;C-1&quot; to &quot;G9&quot;)</span>
<span class="token comment">//   octave:          MidiOctave, (-1    to 9   )</span>
<span class="token comment">//   pitch:           NotePitch,  (&quot;A&quot;   to &quot;G&quot; )</span>
<span class="token comment">//   velocity:        MidiValue,  (0     to 127 )</span>
<span class="token comment">//   velocityDecimal: number,</span>
<span class="token comment">// }) =&gt; void</span>
</code></pre></div><p><br> <br>
This code snippet provides the same functionality as above, but works directly with the <code>WebMidi</code> API. As you can see, the amount of boilerplate required makes it difficult to focus on the actual implementation.</p> <p>I only included <code>NoteOn</code> and <code>NoteOff</code> in this example for the sake of brevity; but there are many other types of MIDI message, which requires developers to perform even more mapping &amp; conversion to extract the desired information.</p> <div class="language-TypeScript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> midiDevices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;MPKmini2&quot;</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> MidiValue_To_NoteName_Map <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token operator">:</span>  <span class="token string">&quot;C-1&quot;</span><span class="token punctuation">,</span>    <span class="token number">1</span><span class="token operator">:</span>  <span class="token string">&quot;C#-1&quot;</span><span class="token punctuation">,</span>   <span class="token number">2</span><span class="token operator">:</span>  <span class="token string">&quot;D-1&quot;</span><span class="token punctuation">,</span>   <span class="token number">3</span><span class="token operator">:</span>  <span class="token string">&quot;D#-1&quot;</span><span class="token punctuation">,</span>   <span class="token number">4</span><span class="token operator">:</span>  <span class="token string">&quot;E-1&quot;</span><span class="token punctuation">,</span>   <span class="token number">5</span><span class="token operator">:</span>  <span class="token string">&quot;F-1&quot;</span><span class="token punctuation">,</span>   <span class="token number">6</span><span class="token operator">:</span>  <span class="token string">&quot;F#-1&quot;</span><span class="token punctuation">,</span>   <span class="token number">7</span><span class="token operator">:</span>  <span class="token string">&quot;G-1&quot;</span><span class="token punctuation">,</span>   <span class="token number">8</span><span class="token operator">:</span>  <span class="token string">&quot;G#-1&quot;</span><span class="token punctuation">,</span>   <span class="token number">9</span><span class="token operator">:</span>  <span class="token string">&quot;A-1&quot;</span><span class="token punctuation">,</span>
  <span class="token number">10</span><span class="token operator">:</span> <span class="token string">&quot;A#-1&quot;</span><span class="token punctuation">,</span>   <span class="token number">11</span><span class="token operator">:</span> <span class="token string">&quot;B-1&quot;</span><span class="token punctuation">,</span>    <span class="token number">12</span><span class="token operator">:</span> <span class="token string">&quot;C0&quot;</span><span class="token punctuation">,</span>    <span class="token number">13</span><span class="token operator">:</span> <span class="token string">&quot;C#0&quot;</span><span class="token punctuation">,</span>    <span class="token number">14</span><span class="token operator">:</span> <span class="token string">&quot;D0&quot;</span><span class="token punctuation">,</span>    <span class="token number">15</span><span class="token operator">:</span> <span class="token string">&quot;D#0&quot;</span><span class="token punctuation">,</span>   <span class="token number">16</span><span class="token operator">:</span> <span class="token string">&quot;E0&quot;</span><span class="token punctuation">,</span>     <span class="token number">17</span><span class="token operator">:</span> <span class="token string">&quot;F0&quot;</span><span class="token punctuation">,</span>    <span class="token number">18</span><span class="token operator">:</span> <span class="token string">&quot;F#0&quot;</span><span class="token punctuation">,</span>    <span class="token number">19</span><span class="token operator">:</span> <span class="token string">&quot;G0&quot;</span><span class="token punctuation">,</span>
  <span class="token number">20</span><span class="token operator">:</span> <span class="token string">&quot;G#0&quot;</span><span class="token punctuation">,</span>    <span class="token number">21</span><span class="token operator">:</span> <span class="token string">&quot;A0&quot;</span><span class="token punctuation">,</span>     <span class="token number">22</span><span class="token operator">:</span> <span class="token string">&quot;A#0&quot;</span><span class="token punctuation">,</span>   <span class="token number">23</span><span class="token operator">:</span> <span class="token string">&quot;B0&quot;</span><span class="token punctuation">,</span>     <span class="token number">24</span><span class="token operator">:</span> <span class="token string">&quot;C1&quot;</span><span class="token punctuation">,</span>    <span class="token number">25</span><span class="token operator">:</span> <span class="token string">&quot;C#1&quot;</span><span class="token punctuation">,</span>   <span class="token number">26</span><span class="token operator">:</span> <span class="token string">&quot;D1&quot;</span><span class="token punctuation">,</span>     <span class="token number">27</span><span class="token operator">:</span> <span class="token string">&quot;D#1&quot;</span><span class="token punctuation">,</span>   <span class="token number">28</span><span class="token operator">:</span> <span class="token string">&quot;E1&quot;</span><span class="token punctuation">,</span>     <span class="token number">29</span><span class="token operator">:</span> <span class="token string">&quot;F1&quot;</span><span class="token punctuation">,</span>
  <span class="token number">30</span><span class="token operator">:</span> <span class="token string">&quot;F#1&quot;</span><span class="token punctuation">,</span>    <span class="token number">31</span><span class="token operator">:</span> <span class="token string">&quot;G1&quot;</span><span class="token punctuation">,</span>     <span class="token number">32</span><span class="token operator">:</span> <span class="token string">&quot;G#1&quot;</span><span class="token punctuation">,</span>   <span class="token number">33</span><span class="token operator">:</span> <span class="token string">&quot;A1&quot;</span><span class="token punctuation">,</span>     <span class="token number">34</span><span class="token operator">:</span> <span class="token string">&quot;A#1&quot;</span><span class="token punctuation">,</span>   <span class="token number">35</span><span class="token operator">:</span> <span class="token string">&quot;B1&quot;</span><span class="token punctuation">,</span>    <span class="token number">36</span><span class="token operator">:</span> <span class="token string">&quot;C2&quot;</span><span class="token punctuation">,</span>     <span class="token number">37</span><span class="token operator">:</span> <span class="token string">&quot;C#2&quot;</span><span class="token punctuation">,</span>   <span class="token number">38</span><span class="token operator">:</span> <span class="token string">&quot;D2&quot;</span><span class="token punctuation">,</span>     <span class="token number">39</span><span class="token operator">:</span> <span class="token string">&quot;D#2&quot;</span><span class="token punctuation">,</span>
  <span class="token number">40</span><span class="token operator">:</span> <span class="token string">&quot;E2&quot;</span><span class="token punctuation">,</span>     <span class="token number">41</span><span class="token operator">:</span> <span class="token string">&quot;F2&quot;</span><span class="token punctuation">,</span>     <span class="token number">42</span><span class="token operator">:</span> <span class="token string">&quot;F#2&quot;</span><span class="token punctuation">,</span>   <span class="token number">43</span><span class="token operator">:</span> <span class="token string">&quot;G2&quot;</span><span class="token punctuation">,</span>     <span class="token number">44</span><span class="token operator">:</span> <span class="token string">&quot;G#2&quot;</span><span class="token punctuation">,</span>   <span class="token number">45</span><span class="token operator">:</span> <span class="token string">&quot;A2&quot;</span><span class="token punctuation">,</span>    <span class="token number">46</span><span class="token operator">:</span> <span class="token string">&quot;A#2&quot;</span><span class="token punctuation">,</span>    <span class="token number">47</span><span class="token operator">:</span> <span class="token string">&quot;B2&quot;</span><span class="token punctuation">,</span>    <span class="token number">48</span><span class="token operator">:</span> <span class="token string">&quot;C3&quot;</span><span class="token punctuation">,</span>     <span class="token number">49</span><span class="token operator">:</span> <span class="token string">&quot;C#3&quot;</span><span class="token punctuation">,</span>
  <span class="token number">50</span><span class="token operator">:</span> <span class="token string">&quot;D3&quot;</span><span class="token punctuation">,</span>     <span class="token number">51</span><span class="token operator">:</span> <span class="token string">&quot;D#3&quot;</span><span class="token punctuation">,</span>    <span class="token number">52</span><span class="token operator">:</span> <span class="token string">&quot;E3&quot;</span><span class="token punctuation">,</span>    <span class="token number">53</span><span class="token operator">:</span> <span class="token string">&quot;F3&quot;</span><span class="token punctuation">,</span>     <span class="token number">54</span><span class="token operator">:</span> <span class="token string">&quot;F#3&quot;</span><span class="token punctuation">,</span>   <span class="token number">55</span><span class="token operator">:</span> <span class="token string">&quot;G3&quot;</span><span class="token punctuation">,</span>    <span class="token number">56</span><span class="token operator">:</span> <span class="token string">&quot;G#3&quot;</span><span class="token punctuation">,</span>    <span class="token number">57</span><span class="token operator">:</span> <span class="token string">&quot;A3&quot;</span><span class="token punctuation">,</span>    <span class="token number">58</span><span class="token operator">:</span> <span class="token string">&quot;A#3&quot;</span><span class="token punctuation">,</span>    <span class="token number">59</span><span class="token operator">:</span> <span class="token string">&quot;B3&quot;</span><span class="token punctuation">,</span>
  <span class="token number">60</span><span class="token operator">:</span> <span class="token string">&quot;C4&quot;</span><span class="token punctuation">,</span>     <span class="token number">61</span><span class="token operator">:</span> <span class="token string">&quot;C#4&quot;</span><span class="token punctuation">,</span>    <span class="token number">62</span><span class="token operator">:</span> <span class="token string">&quot;D4&quot;</span><span class="token punctuation">,</span>    <span class="token number">63</span><span class="token operator">:</span> <span class="token string">&quot;D#4&quot;</span><span class="token punctuation">,</span>    <span class="token number">64</span><span class="token operator">:</span> <span class="token string">&quot;E4&quot;</span><span class="token punctuation">,</span>    <span class="token number">65</span><span class="token operator">:</span> <span class="token string">&quot;F4&quot;</span><span class="token punctuation">,</span>    <span class="token number">66</span><span class="token operator">:</span> <span class="token string">&quot;F#4&quot;</span><span class="token punctuation">,</span>    <span class="token number">67</span><span class="token operator">:</span> <span class="token string">&quot;G4&quot;</span><span class="token punctuation">,</span>    <span class="token number">68</span><span class="token operator">:</span> <span class="token string">&quot;G#4&quot;</span><span class="token punctuation">,</span>    <span class="token number">69</span><span class="token operator">:</span> <span class="token string">&quot;A4&quot;</span><span class="token punctuation">,</span>
  <span class="token number">70</span><span class="token operator">:</span> <span class="token string">&quot;A#4&quot;</span><span class="token punctuation">,</span>    <span class="token number">71</span><span class="token operator">:</span> <span class="token string">&quot;B4&quot;</span><span class="token punctuation">,</span>     <span class="token number">72</span><span class="token operator">:</span> <span class="token string">&quot;C5&quot;</span><span class="token punctuation">,</span>    <span class="token number">73</span><span class="token operator">:</span> <span class="token string">&quot;C#5&quot;</span><span class="token punctuation">,</span>    <span class="token number">74</span><span class="token operator">:</span> <span class="token string">&quot;D5&quot;</span><span class="token punctuation">,</span>    <span class="token number">75</span><span class="token operator">:</span> <span class="token string">&quot;D#5&quot;</span><span class="token punctuation">,</span>   <span class="token number">76</span><span class="token operator">:</span> <span class="token string">&quot;E5&quot;</span><span class="token punctuation">,</span>     <span class="token number">77</span><span class="token operator">:</span> <span class="token string">&quot;F5&quot;</span><span class="token punctuation">,</span>    <span class="token number">78</span><span class="token operator">:</span> <span class="token string">&quot;F#5&quot;</span><span class="token punctuation">,</span>    <span class="token number">79</span><span class="token operator">:</span> <span class="token string">&quot;G5&quot;</span><span class="token punctuation">,</span>
  <span class="token number">80</span><span class="token operator">:</span> <span class="token string">&quot;G#5&quot;</span><span class="token punctuation">,</span>    <span class="token number">81</span><span class="token operator">:</span> <span class="token string">&quot;A5&quot;</span><span class="token punctuation">,</span>     <span class="token number">82</span><span class="token operator">:</span> <span class="token string">&quot;A#5&quot;</span><span class="token punctuation">,</span>   <span class="token number">83</span><span class="token operator">:</span> <span class="token string">&quot;B5&quot;</span><span class="token punctuation">,</span>     <span class="token number">84</span><span class="token operator">:</span> <span class="token string">&quot;C6&quot;</span><span class="token punctuation">,</span>    <span class="token number">85</span><span class="token operator">:</span> <span class="token string">&quot;C#6&quot;</span><span class="token punctuation">,</span>   <span class="token number">86</span><span class="token operator">:</span> <span class="token string">&quot;D6&quot;</span><span class="token punctuation">,</span>     <span class="token number">87</span><span class="token operator">:</span> <span class="token string">&quot;D#6&quot;</span><span class="token punctuation">,</span>   <span class="token number">88</span><span class="token operator">:</span> <span class="token string">&quot;E6&quot;</span><span class="token punctuation">,</span>     <span class="token number">89</span><span class="token operator">:</span> <span class="token string">&quot;F6&quot;</span><span class="token punctuation">,</span>
  <span class="token number">90</span><span class="token operator">:</span> <span class="token string">&quot;F#6&quot;</span><span class="token punctuation">,</span>    <span class="token number">91</span><span class="token operator">:</span> <span class="token string">&quot;G6&quot;</span><span class="token punctuation">,</span>     <span class="token number">92</span><span class="token operator">:</span> <span class="token string">&quot;G#6&quot;</span><span class="token punctuation">,</span>   <span class="token number">93</span><span class="token operator">:</span> <span class="token string">&quot;A6&quot;</span><span class="token punctuation">,</span>     <span class="token number">94</span><span class="token operator">:</span> <span class="token string">&quot;A#6&quot;</span><span class="token punctuation">,</span>   <span class="token number">95</span><span class="token operator">:</span> <span class="token string">&quot;B6&quot;</span><span class="token punctuation">,</span>    <span class="token number">96</span><span class="token operator">:</span> <span class="token string">&quot;C7&quot;</span><span class="token punctuation">,</span>     <span class="token number">97</span><span class="token operator">:</span> <span class="token string">&quot;C#7&quot;</span><span class="token punctuation">,</span>   <span class="token number">98</span><span class="token operator">:</span> <span class="token string">&quot;D7&quot;</span><span class="token punctuation">,</span>     <span class="token number">99</span><span class="token operator">:</span> <span class="token string">&quot;D#7&quot;</span><span class="token punctuation">,</span>
  <span class="token number">100</span><span class="token operator">:</span><span class="token string">&quot;E7&quot;</span><span class="token punctuation">,</span>     <span class="token number">101</span><span class="token operator">:</span><span class="token string">&quot;F7&quot;</span><span class="token punctuation">,</span>     <span class="token number">102</span><span class="token operator">:</span><span class="token string">&quot;F#7&quot;</span><span class="token punctuation">,</span>   <span class="token number">103</span><span class="token operator">:</span><span class="token string">&quot;G7&quot;</span><span class="token punctuation">,</span>     <span class="token number">104</span><span class="token operator">:</span><span class="token string">&quot;G#7&quot;</span><span class="token punctuation">,</span>   <span class="token number">105</span><span class="token operator">:</span><span class="token string">&quot;A7&quot;</span><span class="token punctuation">,</span>    <span class="token number">106</span><span class="token operator">:</span><span class="token string">&quot;A#7&quot;</span><span class="token punctuation">,</span>    <span class="token number">107</span><span class="token operator">:</span><span class="token string">&quot;B7&quot;</span><span class="token punctuation">,</span>    <span class="token number">108</span><span class="token operator">:</span><span class="token string">&quot;C8&quot;</span><span class="token punctuation">,</span>     <span class="token number">109</span><span class="token operator">:</span><span class="token string">&quot;C#8&quot;</span><span class="token punctuation">,</span>
  <span class="token number">110</span><span class="token operator">:</span><span class="token string">&quot;D8&quot;</span><span class="token punctuation">,</span>     <span class="token number">111</span><span class="token operator">:</span><span class="token string">&quot;D#8&quot;</span><span class="token punctuation">,</span>    <span class="token number">112</span><span class="token operator">:</span><span class="token string">&quot;E8&quot;</span><span class="token punctuation">,</span>    <span class="token number">113</span><span class="token operator">:</span><span class="token string">&quot;F8&quot;</span><span class="token punctuation">,</span>     <span class="token number">114</span><span class="token operator">:</span><span class="token string">&quot;F#8&quot;</span><span class="token punctuation">,</span>   <span class="token number">115</span><span class="token operator">:</span><span class="token string">&quot;G8&quot;</span><span class="token punctuation">,</span>    <span class="token number">116</span><span class="token operator">:</span><span class="token string">&quot;G#8&quot;</span><span class="token punctuation">,</span>    <span class="token number">117</span><span class="token operator">:</span><span class="token string">&quot;A8&quot;</span><span class="token punctuation">,</span>    <span class="token number">118</span><span class="token operator">:</span><span class="token string">&quot;A#8&quot;</span><span class="token punctuation">,</span>    <span class="token number">119</span><span class="token operator">:</span><span class="token string">&quot;B8&quot;</span><span class="token punctuation">,</span>
  <span class="token number">120</span><span class="token operator">:</span><span class="token string">&quot;C9&quot;</span><span class="token punctuation">,</span>     <span class="token number">121</span><span class="token operator">:</span><span class="token string">&quot;C#9&quot;</span><span class="token punctuation">,</span>    <span class="token number">122</span><span class="token operator">:</span><span class="token string">&quot;D9&quot;</span><span class="token punctuation">,</span>    <span class="token number">123</span><span class="token operator">:</span><span class="token string">&quot;D#9&quot;</span><span class="token punctuation">,</span>    <span class="token number">124</span><span class="token operator">:</span><span class="token string">&quot;E9&quot;</span><span class="token punctuation">,</span>    <span class="token number">125</span><span class="token operator">:</span><span class="token string">&quot;F9&quot;</span><span class="token punctuation">,</span>    <span class="token number">126</span><span class="token operator">:</span><span class="token string">&quot;F#9&quot;</span><span class="token punctuation">,</span>    <span class="token number">127</span><span class="token operator">:</span><span class="token string">&quot;G9&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> Channel_To_MidiStatus_Map <span class="token operator">=</span> <span class="token punctuation">{</span>
  NoteOn<span class="token operator">:</span>  <span class="token punctuation">{</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">144</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span><span class="token number">145</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">:</span><span class="token number">146</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">:</span><span class="token number">147</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">:</span><span class="token number">148</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token operator">:</span><span class="token number">149</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token operator">:</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token operator">:</span><span class="token number">151</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token operator">:</span><span class="token number">152</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">153</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">154</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token operator">:</span><span class="token number">155</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token operator">:</span><span class="token number">156</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">157</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">158</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">159</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  NoteOff<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span><span class="token number">129</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">:</span><span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">:</span><span class="token number">131</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">:</span><span class="token number">132</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token operator">:</span><span class="token number">133</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token operator">:</span><span class="token number">134</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token operator">:</span><span class="token number">135</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token operator">:</span><span class="token number">136</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">138</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token operator">:</span><span class="token number">139</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token operator">:</span><span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">141</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">142</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">143</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

navigator<span class="token punctuation">.</span><span class="token function">requestMIDIAccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">midiAccess<span class="token operator">:</span>WebMidi<span class="token punctuation">.</span>MIDIAccess</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> noteOn_Statuses <span class="token operator">=</span> <span class="token punctuation">[</span>
    Channel_To_MidiStatus_Map<span class="token punctuation">.</span>NoteOn<span class="token punctuation">[</span><span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    Channel_To_MidiStatus_Map<span class="token punctuation">.</span>NoteOn<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>

  <span class="token keyword">const</span> noteOff_Statuses <span class="token operator">=</span> <span class="token punctuation">[</span>
    Channel_To_MidiStatus_Map<span class="token punctuation">.</span>NoteOff<span class="token punctuation">[</span><span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    Channel_To_MidiStatus_Map<span class="token punctuation">.</span>NoteOff<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>

  <span class="token keyword">function</span> <span class="token function">on_Message</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token operator">:</span>WebMidi<span class="token punctuation">.</span>MIDIMessageEvent</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>status<span class="token punctuation">,</span> noteValue<span class="token punctuation">,</span> velocity<span class="token punctuation">]</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>data

    <span class="token keyword">const</span> name            <span class="token operator">=</span> MidiValue_To_NoteName_Map<span class="token punctuation">[</span>noteValue<span class="token punctuation">]</span>
    <span class="token keyword">const</span> velocityDecimal <span class="token operator">=</span> <span class="token punctuation">(</span>velocity <span class="token operator">/</span> <span class="token number">127</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>noteOn_Statuses<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// plays the note via Tone.js, updates on-screen piano that mirrors the MIDI controller</span>
      synth<span class="token punctuation">.</span><span class="token function">triggerAttack</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> velocityDecimal<span class="token punctuation">)</span>
      <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#Piano &gt; .key[data-note=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span>
      <span class="token function">update_KeyColor</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> KeyState<span class="token punctuation">.</span>Pressed<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>noteOff_Statuses<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// stops the note via Tone.js, updates on-screen piano that mirrors the MIDI controller</span>
      synth<span class="token punctuation">.</span><span class="token function">triggerRelease</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#Piano &gt; .key[data-note=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span>
      <span class="token function">update_KeyColor</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> KeyState<span class="token punctuation">.</span>Unpressed<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  midiAccess<span class="token punctuation">.</span>inputs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">input</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span> midiDevices<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">}</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span>onmidimessage<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>input<span class="token punctuation">.</span><span class="token function-variable function">onmidimessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token operator">:</span>WebMidi<span class="token punctuation">.</span>MIDIMessageEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        input<span class="token punctuation">.</span><span class="token function">onmidimessage</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
        <span class="token function">on_Message</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
      <span class="token punctuation">{</span>input<span class="token punctuation">.</span>onmidimessage <span class="token operator">=</span> on_Message<span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></section></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/Apprenticeship-Application/8thLight/2.html">
        Why are you pursuing a career in software development?
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Apprenticeship-Application/assets/js/app.78161b69.js" defer></script><script src="/Apprenticeship-Application/assets/js/2.d9d045a4.js" defer></script><script src="/Apprenticeship-Application/assets/js/5.3d3ef24d.js" defer></script>
  </body>
</html>
